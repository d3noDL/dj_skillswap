{% extends 'base.html' %} {% load static %} {% block content %}

  <div class="row align-items-center justify-content-between mb-4">
    
    <!-- Título à esquerda -->
    <div class="col-md-4">
      <h1 class="mb-0">Skill Swap List</h1>
    </div>

    <!-- Formulário à direita -->
    <div class="col-md-8">
      <form method="get" action="{% url 'dj_skillswap_app:post_list' %}" class="d-flex flex-wrap align-items-center justify-content-end gap-2">
        
        <input type="text" name="param" value="{{ request.GET.param }}" class="form-control w-auto" placeholder="Search...">


        <select name="category" class="form-select w-auto">
          <option value="">All Categories</option>
          {% for category in categories %}
            <option value="{{ category.id }}" {% if category.id|stringformat:"s" == request.GET.category %}selected{% endif %}>
              {{ category.name }}
            </option>
          {% endfor %}
        </select>

        <button type="submit" class="btn btn-primary">Search</button>
        <a href="{% url 'dj_skillswap_app:post_create' %}" class="btn btn-outline-secondary">New post</a>

        {% csrf_token %}
      </form>
    </div>
  </div>
   <!-- Grid dos cards -->
  <div class="row gy-4">
    {% for post in posts %}
    <div class="col-12 col-md-6 col-lg-4 col-xl-3">
      {% include "partials/post_card.html" with post=post request=request %}
    </div>
    {% endfor %}
  </div>


{% endblock %}